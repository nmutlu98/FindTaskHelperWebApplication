@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    var username = ViewData["username"];
    var name = ViewData["name"];
    var surname = ViewData["surname"];
    var email = ViewData["email"];
    var phone = ViewData["phone"];
    var address = ViewData["address"];
    var photoUrl = ViewData["photoUrl"];
    var rating = ViewData["rating"];
    var password = ViewData["password"];
}
@model FindTaskHelperWebApplication.Models.Profile
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Tasker &mdash; Website Template by Colorlib</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <link rel="stylesheet" href="~/theme2/css/custom-bs.css">
    <link rel="stylesheet" href="~/theme2/css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="~/theme2/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="~/theme2/fonts/icomoon/style.css">
    <link rel="stylesheet" href="~/theme2/fonts/line-icons/style.css">
    <link rel="stylesheet" href="~/theme2/css/owl.carousel.min.css">
    <link rel="stylesheet" href="~/theme2/css/animate.min.css">
    <link rel="stylesheet" href="~/theme2/css/quill.snow.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    
    <!-- MAIN CSS -->
    <link rel="stylesheet" href="~/theme2/css/style.css">
</head>
<body id="top" onload="javascript: check_popup()">

    <div id="overlayer"></div>
    <div class="loader">
        <div class="spinner-border text-primary" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>


    <div class="site-wrap">
        <div class="site-mobile-menu site-navbar-target">
            <div class="site-mobile-menu-header">
                <div class="site-mobile-menu-close mt-3">
                    <span class="icon-close2 js-menu-toggle"></span>
                </div>
            </div>
            <div class="site-mobile-menu-body"></div>
        </div> <!-- .site-mobile-menu -->
        <!-- NAVBAR -->
        <header class="site-navbar mt-3">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="site-logo col-6"><a href="/Home/IndexLoggedIn">Tasker</a></div>

                    <nav class="mx-auto site-navigation">
                        <ul class="site-menu js-clone-nav d-none d-xl-block ml-0 pl-0">
                            <li><a href="/Home/IndexLoggedIn" class="nav-link">Home</a></li>
                            <li><a href="/Home/Profile" class="nav-link">Profile</a></li>
                            <li><a href="/Home/MyAds/@username" class="nav-link">My Ads</a></li>
                            <li><a href="/Home/MyTasks/@username" class="nav-link">My Tasks</a></li>
                            <li class="d-lg-none"><a href="/Home/NewAd"><span class="mr-2">+</span> Post a Job</a></li>
                        </ul>
                    </nav>

                    <div class="right-cta-menu text-right d-flex aligin-items-center col-6">
                        <div class="ml-auto">
                            <a href="/Home/NewAd" class="btn btn-outline-white border-width-2 d-none d-lg-inline-block"><span class="mr-2 icon-add"></span>Post a Job</a>
                            <a href="/Home/Index" class="btn btn-outline-white border-width-2 d-none d-lg-inline-block"><span class="mr-2 icon-close2"></span>Log out</a>
                        </div>
                        <a href="#" class="site-menu-toggle js-menu-toggle d-inline-block d-xl-none mt-lg-2 ml-3"><span class="icon-menu h3 m-0 p-0 mt-2"></span></a>
                    </div>

                </div>
            </div>
        </header>
        <!-- HOME -->
        <section class="section-hero overlay inner-page bg-image" style="background-image: url('/theme2/images/hero_1.jpg');" id="home-section">
            <div class="container">
                <div class="row">
                    <div class="col-md-7">
                        <h1 class="text-white font-weight-bold">Profile</h1>
                        <div class="custom-breadcrumbs">
                            <a href="/Home/IndexLoggedIn">Home</a> <span class="mx-2 slash">/</span>
                            <span class="text-white"><strong>Profile</strong></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="site-section">
            <div class="container">
                <div class="row">
                    <div class="col-lg-3">
                    </div>
                    <div class="col-lg-6">
                        <h2 class="mb-4">Profile</h2>
                        <form asp-action="ProcessProfileData" asp-controller="Profile" enctype="multipart/form-data" class="p-4 border rounded">


                            <center>
                                <img style="width: 120px;" src="~/profilePhotos/@photoUrl" alt="Not uploaded" />

                            </center>

                            <center>
                                @for (int i = 0; i < (double)rating; i++)
                                {
                                    <span class="fa fa-star checked"></span>
                                }
                            </center>
                            <div class="row form-group">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="Photo" class="text-black" for="fname">Photo</label>
                                    <input asp-for="Photo" type="file">
                                    <span asp-validation-for="Photo"></span>
                                </div>

                            </div>

                            <div class="row form-group mb-4">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="UsernameField" class="text-black" for="fname">Username</label>
                                    <input required readonly asp-for="UsernameField" type="text" id="fname" class="form-control" value="@username">
                                </div>
                            </div>
                            <div class="row form-group mb-4">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="NameField" class="text-black" for="fname">Name</label>
                                    <input required asp-for="NameField" type="text" id="fname" class="form-control" value="@name">
                                </div>
                            </div>
                            <div class="row form-group mb-4">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="SurnameField" class="text-black" for="fname">Surname</label>
                                    <input required asp-for="SurnameField" type="text" id="fname" class="form-control" value="@surname">
                                </div>
                            </div>
                            <div class="row form-group mb-4">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="EmailField" class="text-black" for="fname">Email</label>
                                    <input required asp-for="EmailField" type="email" id="fname" class="form-control" value="@email">
                                </div>
                            </div>
                            <div class="row form-group mb-4">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="AddressField" class="text-black" for="fname">Address</label>
                                    <input required asp-for="AddressField" type="text" id="fname" class="form-control" value="@address">
                                </div>
                            </div>
                            <div class="row form-group mb-4">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="PhoneField" class="text-black" for="fname">Phone</label>
                                    <input required asp-for="PhoneField" type="text" id="fname" class="form-control" value="@phone">
                                </div>
                            </div>
                            <center>
                                <input asp-for="DeleteButton" type="submit" value="Save" class="btn px-4 btn-primary text-white">
                            </center>
                            <br />
                            <center>
                                <input data-toggle="modal" data-target="#changePasswordModal" value="Change My Password" type="button" class="btn px-4 btn-primary text-white">

                            </center>
                            <br />

                            <center>

                                <input style="background-color:red; border-color:red;" data-toggle="modal" data-target="#confirmModal" type="button" value="Delete My Account" class="btn px-4 btn-primary text-white">

                            </center>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <footer class="site-footer">

            <a href="#top" class="smoothscroll scroll-top">
                <span class="icon-keyboard_arrow_up"></span>
            </a>

            <div class="container">
                <div class="row mb-5">
                    <div class="col-6 col-md-3 mb-4 mb-md-0">
                    </div>
                    <div class="col-6 col-md-3 mb-4 mb-md-0">
                        <h3>Support</h3>
                        <ul class="list-unstyled">
                            <li><a href="/Home/Privacy">Privacy</a></li>
                            <li><a href="/Home/TermsOfService">Terms of Service</a></li>
                        </ul>
                    </div>
                    <div class="col-6 col-md-3 mb-4 mb-md-0">
                        <h3>Contact Us</h3>
                        <div class="footer-social">
                            <a href="#"><span class="icon-facebook"></span></a>
                            <a href="#"><span class="icon-twitter"></span></a>
                            <a href="#"><span class="icon-instagram"></span></a>
                            <a href="#"><span class="icon-linkedin"></span></a>
                        </div>
                    </div>
                    <div class="col-6 col-md-3 mb-4 mb-md-0">
                    </div>

                </div>

                <div class="row text-center">
                    <div class="col-12">
                        <p class="copyright">
                            <small>
                                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                                Copyright &copy;
                                <script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart text-danger" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
                                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                            </small>
                        </p>
                    </div>
                </div>
            </div>
        </footer>

    </div>
    <!-- Forgot Password Modal-->
    <div class="modal fade" id="changePasswordModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Change Password</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <form asp-action="ChangePassword" asp-controller="Profile" enctype="multipart/form-data" class="p-4 border rounded">
                            <div class="row form-group mb-4">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="PasswordField" class="text-black" for="fname">Enter new password:</label>
                                    <input required asp-for="PasswordField" type="password" class="form-control input-circle" id="new-password">
                                    <input style="display: none;" asp-for="UsernameField" type="text" class="form-control input-circle" id="user" value="@username">
                                </div>

                            </div>
                            <div class="row form-group mb-4">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="PasswordConfirmationField" class="text-black" for="fname">Enter new password again for confirmation:</label>
                                    <input required asp-for="PasswordConfirmationField" type="password" class="form-control input-circle" id="new-password">
                                </div>

                            </div>
                            <div class="row form-group">
                                <div class="col-md-12">
                                    <input type="submit" value="Submit" class="btn px-4 btn-primary text-white">
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Confirm Modal-->
    <div class="modal fade" id="confirmModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Delete My Account</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <form asp-action="DeleteUserProfile" asp-controller="Profile" enctype="multipart/form-data" class="p-4 border rounded">

                            <div class="row form-group mb-4">
                                <div class="col-md-12 mb-3 mb-md-0">
                                    <label asp-for="UsernameField" class="text-black" for="fname">Are you sure to delete your account?</label>
                                    <input asp-for="UsernameField" style="display: none;" type="text" class="form-control input-circle" value="@username">
                                </div>

                            </div>
                            <div class="row form-group">
                                <div class="col-md-12">
                                    <input type="submit" style="background-color:red; border-color:red;" value="Delete My Account" class="btn px-4 btn-primary text-white">
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>
        </div>
        <script>
       function check_popup() {
           if ('@ViewData["message"]' === "success")
               toastr.success("Your information is successfully updated.");
           else if ('@ViewData["message"]' === "fail")
               toastr.error("An error happened.");
           else if ('@ViewData["message"]' === "mail-not-unique")
               toastr.error("This mail is already in use.");
           else if ('@ViewData["message"]' === "no-match")
               toastr.error("Password could not updated. Passwords do not match.");
       }
        </script>
        <!-- SCRIPTS -->
        <script src="~/theme2/js/jquery.min.js"></script>
        <script src="~/theme2/js/bootstrap.bundle.min.js"></script>
        <script src="~/theme2/js/isotope.pkgd.min.js"></script>
        <script src="~/theme2/js/stickyfill.min.js"></script>
        <script src="~/theme2/js/jquery.fancybox.min.js"></script>
        <script src="~/theme2/js/jquery.easing.1.3.js"></script>

        <script src="~/theme2/js/jquery.waypoints.min.js"></script>
        <script src="~/theme2/js/jquery.animateNumber.min.js"></script>
        <script src="~/theme2/js/owl.carousel.min.js"></script>
        <script src="~/theme2/js/quill.min.js"></script>


        <script src="~/theme2/js/bootstrap-select.min.js"></script>

        <script src="~/theme2/js/custom.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

        <!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->
</html>














